============
Introduction
============
cloudwang
	* a multi-cloud supported RESTful API that align with the HTTP principle. 
	* an open source project that under the Apache License, Version 2.0.
	* utilizing the Dasein Cloud (http://dasein-cloud.sourceforge.net/).
	* programming for fun, welcome and open to all :-)

I can be reachable by,
	* email  <binbinwang118@gmail.com>
	* irc    <freenode@Binbin>


============
URI Modeling
============

> MachineImage RESTful Modeling
http://host/rs/machineimage

> HTTP Methods
* GET
    http://host/rs/machineimage
    http://host/rs/machineimage?accountNumber=***
    http://host/rs/machineimage/machineimage_id

Accept: application/xml, application/json

* HEAD
    http://host/rs/machineimage/machineimage_id

Accept: application/xml, application/json

* POST    (Async Operation)
    http://host/rs/machineimage

Accept: application/xml, application/json

* PUT
    http://host/rs/machineimage/machineimage_id

Accept: application/xml, application/json


* DELETE
    http://host/rs/machineimage/machineimage_id

Accept: application/xml, application/json


> Object Modeling
<cloudMachineImage>
    <cloudProvider>CloudWang-AWS-EC2</cloudProvider>
    <cloudName>AWS-EC2</cloudName>
    <cloudAccountNumber></cloudAccountNumber>
    <cloudRegionId>us-east-1</cloudRegionId>
    <machineImageMethod>listMachineImage</machineImageMethod>
    <machineImage machineImageId="0" status="ACTIVE" removable="true" sharable=”true” budget="0">
        <providermachineImageId>ami-ab34dfgh</providermachineImageId>
        <name>Canonical Ubuntu Lucid 64-bit</name>
        <description>An Ubuntu image</description>
        <machineImageType>machine</machineImageType>
        <isPublic>false</isPublic>
        <architecture>I64</architecture>
        <platform>Red Hat</platform>
        <creationTimestamp>2010-07-14T13:18:27.947-0000</creationTimestamp>
        <providerOwnerId></providerOwnerId>
        <agentName>12</agentName>
        <software></software>
    </machineImage>
<cloudMachineImage>



=================
Async Job Service
=================
To keep the pure HTTP principle, only POST method are allowed the async 
request. GET, DELETE and PUT methods can not be requested asynchronously.

Sample to use the async job service,
POST	http://localhost:8080/cloudwang/rs/snapshot?asynch=true

HTTP/1.1 202 Accepted
Location: http://localhost:8080/cloudwang/rs/async/jobs/1316277771002-1

Then can perform GET, POST and DELETE operations on the job URL
/async/jobs/{job-id}?wait={millisconds}|nowait=true

GET
if the job was completed, return whatever the JAX-RS resource method responses. 
if the job has not completed, return response code of 202, Accepted.

POST 
read the job response. if the job was completed, will remove the job.

DELETE
clean up the job

eg. POST http://localhost:8080/cloudwang/rs/async/jobs/1316277771002-1?wait=6000


 
